<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Work & German Lessons Schedule</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f7fa;
            color: #333;
            padding: 20px;
            line-height: 1.5;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            padding: 25px;
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid #eaeaea;
        }
        
        h1 {
            color: #2c3e50;
            margin-bottom: 10px;
        }
        
        .description {
            color: #7f8c8d;
            font-size: 1.1rem;
            max-width: 800px;
            margin: 0 auto;
        }
        
        .schedule-container {
            overflow-x: auto;
            margin-bottom: 30px;
        }
        
        .schedule-table {
            border-collapse: collapse;
            width: 100%;
            min-width: 800px;
        }
        
        .schedule-table th {
            background-color: #f8f9fa;
            padding: 12px 8px;
            text-align: center;
            font-weight: 600;
            border: 1px solid #dee2e6;
        }
        
        .month-header {
            background-color: #3498db;
            color: white;
            font-size: 1rem;
            padding: 10px 5px;
        }
        
        .date-row th {
            background-color: #2c3e50;
            color: white;
            font-size: 0.9rem;
            padding: 10px 5px;
        }
        
        .activity-label {
            background-color: #f8f9fa;
            text-align: right;
            padding: 12px 15px;
            font-weight: 600;
            border: 1px solid #dee2e6;
            width: 120px;
        }
        
        .german-label {
            color: #2980b9;
        }
        
        .mcg-label {
            color: #f39c12;
        }
        
        .activity-cell {
            text-align: center;
            padding: 12px 5px;
            border: 1px solid #dee2e6;
            font-weight: 500;
            min-width: 35px;
        }
        
        .german {
            background-color: #e8f4fc;
            color: #2980b9;
        }
        
        .mcg {
            background-color: #fef9e7;
            color: #f39c12;
        }
        
        .month-separator {
            border-right: 2px solid #7f8c8d !important;
        }
        
        .controls {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
            flex-wrap: wrap;
            gap: 15px;
        }
        
        .month-controls {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        button {
            padding: 10px 20px;
            background-color: #3498db;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 600;
            transition: background-color 0.2s;
        }
        
        button:hover {
            background-color: #2980b9;
        }
        
        .current-month {
            font-weight: 600;
            font-size: 1.2rem;
            color: #2c3e50;
        }
        
        .add-event-panel {
            background-color: #f8f9fa;
            padding: 20px;
            border-radius: 6px;
            margin-top: 30px;
            border: 1px solid #eaeaea;
        }
        
        .add-event-panel h3 {
            margin-bottom: 15px;
            color: #2c3e50;
        }
        
        .form-group {
            margin-bottom: 15px;
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            align-items: center;
        }
        
        label {
            font-weight: 600;
            color: #2c3e50;
        }
        
        select, input {
            padding: 8px 12px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 1rem;
        }
        
        .add-btn {
            background-color: #2ecc71;
        }
        
        .add-btn:hover {
            background-color: #27ae60;
        }
        
        .remove-btn {
            background-color: #e74c3c;
        }
        
        .remove-btn:hover {
            background-color: #c0392b;
        }
        
        footer {
            text-align: center;
            margin-top: 30px;
            color: #7f8c8d;
            font-size: 0.9rem;
            padding-top: 20px;
            border-top: 1px solid #eaeaea;
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            .controls {
                flex-direction: column;
                align-items: center;
            }
            
            .month-controls {
                flex-direction: column;
                gap: 10px;
            }
            
            button {
                width: 100%;
            }
            
            .form-group {
                flex-direction: column;
                align-items: flex-start;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Work & German Lessons Schedule</h1>
            <p class="description">This schedule shows all dates in the selected month. MCG work shifts and German lesson dates are marked below each date. Days continue on new lines when screen width is filled.</p>
        </header>
        
        <div class="controls">
            <div class="month-controls">
                <button id="prevMonth">Previous Month</button>
                <span class="current-month" id="currentMonth">January 2024</span>
                <button id="nextMonth">Next Month</button>
            </div>
            <button id="todayBtn">Show Current Month</button>
        </div>
        
        <div class="schedule-container">
            <table class="schedule-table" id="scheduleTable">
                <!-- Table will be generated by JavaScript -->
            </table>
        </div>
        
        <div class="add-event-panel">
            <h3>Add/Remove Events</h3>
            <div class="form-group">
                <label for="eventType">Event Type:</label>
                <select id="eventType">
                    <option value="german">German Lesson (გერმანული)</option>
                    <option value="mcg">MCG Work Shift</option>
                </select>
                
                <label for="eventDay">Day:</label>
                <input type="number" id="eventDay" min="1" max="31" value="1" style="width: 70px;">
                
                <label for="eventMonth">Month:</label>
                <select id="eventMonth">
                    <option value="0">January</option>
                    <option value="1">February</option>
                    <option value="2">March</option>
                    <option value="3">April</option>
                    <option value="4">May</option>
                    <option value="5">June</option>
                    <option value="6">July</option>
                    <option value="7">August</option>
                    <option value="8">September</option>
                    <option value="9">October</option>
                    <option value="10">November</option>
                    <option value="11">December</option>
                </select>
                
                <label for="eventYear">Year:</label>
                <input type="number" id="eventYear" value="2024" style="width: 80px;">
                
                <button id="addEvent" class="add-btn">Add Event</button>
                <button id="removeEvent" class="remove-btn">Remove Event</button>
            </div>
            <p style="color: #7f8c8d; font-size: 0.9rem; margin-top: 10px;">Click on any date cell in the schedule to quickly select it for adding/removing events.</p>
        </div>
        
        <footer>
            <p>Schedule shows all dates of the month. Days automatically wrap to new lines when screen width is filled.</p>
        </footer>
    </div>

    <script>
        // Initialize with current date
        let currentDate = new Date();
        
        // Schedule data storage
        let scheduleData = {};
        
        // Load saved data from localStorage or initialize with sample data
        function loadScheduleData() {
            const savedData = localStorage.getItem('germanMcgSchedule');
            if (savedData) {
                scheduleData = JSON.parse(savedData);
            } else {
                // Initialize with sample data if no saved data exists
                scheduleData = {
                    "2024-1-5": "german",  // Jan 5, 2024
                    "2024-1-8": "mcg",     // Jan 8, 2024
                    "2024-1-12": "german", // Jan 12, 2024
                    "2024-1-15": "mcg",    // Jan 15, 2024
                    "2024-1-19": "german", // Jan 19, 2024
                    "2024-1-22": "mcg",    // Jan 22, 2024
                    "2024-1-26": "german", // Jan 26, 2024
                    "2024-1-29": "mcg",    // Jan 29, 2024
                    "2024-2-2": "german",  // Feb 2, 2024
                    "2024-2-5": "mcg",     // Feb 5, 2024
                    "2024-2-9": "german",  // Feb 9, 2024
                    "2024-2-12": "mcg",    // Feb 12, 2024
                    "2024-2-16": "german", // Feb 16, 2024
                    "2024-2-19": "mcg",    // Feb 19, 2024
                    "2024-2-23": "german", // Feb 23, 2024
                    "2024-2-26": "mcg"     // Feb 26, 2024
                };
                saveScheduleData();
            }
        }
        
        function saveScheduleData() {
            localStorage.setItem('germanMcgSchedule', JSON.stringify(scheduleData));
        }
        
        // Generate a key for schedule data
        function getDateKey(year, month, day) {
            return `${year}-${month+1}-${day}`;
        }
        
        function getDaysInMonth(year, month) {
            return new Date(year, month + 1, 0).getDate();
        }
        
        function getMonthName(monthIndex) {
            const months = [
                "January", "February", "March", "April", "May", "June",
                "July", "August", "September", "October", "November", "December"
            ];
            return months[monthIndex];
        }
        
        function renderSchedule(date) {
            const year = date.getFullYear();
            const month = date.getMonth();
            const monthName = getMonthName(month);
            const daysInMonth = getDaysInMonth(year, month);
            
            // Update current month display
            document.getElementById('currentMonth').textContent = `${monthName} ${year}`;
            
            // Clear the table
            const table = document.getElementById('scheduleTable');
            table.innerHTML = '';
            
            // Calculate how many days we can fit per row based on screen width
            const screenWidth = window.innerWidth;
            let daysPerRow;
            
            if (screenWidth > 1200) {
                daysPerRow = 14; // Large screens
            } else if (screenWidth > 900) {
                daysPerRow = 10; // Medium screens
            } else if (screenWidth > 600) {
                daysPerRow = 7;  // Small screens
            } else {
                daysPerRow = 5;  // Very small screens
            }
            
            const numberOfRows = Math.ceil(daysInMonth / daysPerRow);
            
            // Create header rows
            const headerRow = document.createElement('tr');
            const dateRow = document.createElement('tr');
            
            // Add empty cell for the activity labels column
            const emptyHeader = document.createElement('th');
            emptyHeader.rowSpan = 2;
            headerRow.appendChild(emptyHeader);
            
            const emptyDateHeader = document.createElement('th');
            dateRow.appendChild(emptyDateHeader);
            
            // Create month headers for each day (grouped by rows)
            for (let row = 0; row < numberOfRows; row++) {
                const startDay = row * daysPerRow + 1;
                const endDay = Math.min((row + 1) * daysPerRow, daysInMonth);
                const dayCount = endDay - startDay + 1;
                
                // Month header cell
                const monthCell = document.createElement('th');
                monthCell.textContent = monthName;
                monthCell.className = 'month-header';
                monthCell.colSpan = dayCount;
                
                // Add a separator for visual clarity between months
                if (endDay < daysInMonth) {
                    monthCell.classList.add('month-separator');
                }
                
                headerRow.appendChild(monthCell);
                
                // Date cells for this row
                for (let day = startDay; day <= endDay; day++) {
                    const dateCell = document.createElement('th');
                    dateCell.textContent = day;
                    dateCell.className = 'date-row';
                    
                    // Add separator for visual clarity
                    if (day === endDay && endDay < daysInMonth) {
                        dateCell.classList.add('month-separator');
                    }
                    
                    dateCell.addEventListener('click', () => {
                        document.getElementById('eventDay').value = day;
                        document.getElementById('eventMonth').value = month;
                        document.getElementById('eventYear').value = year;
                    });
                    
                    dateRow.appendChild(dateCell);
                }
            }
            
            table.appendChild(headerRow);
            table.appendChild(dateRow);
            
            // Create German lesson row
            const germanRow = document.createElement('tr');
            const germanLabel = document.createElement('td');
            germanLabel.textContent = 'გერმანული';
            germanLabel.className = 'activity-label german-label';
            germanRow.appendChild(germanLabel);
            
            // Create MCG row
            const mcgRow = document.createElement('tr');
            const mcgLabel = document.createElement('td');
            mcgLabel.textContent = 'MCG';
            mcgLabel.className = 'activity-label mcg-label';
            mcgRow.appendChild(mcgLabel);
            
            // Fill activity rows
            for (let row = 0; row < numberOfRows; row++) {
                const startDay = row * daysPerRow + 1;
                const endDay = Math.min((row + 1) * daysPerRow, daysInMonth);
                
                for (let day = startDay; day <= endDay; day++) {
                    const dateKey = getDateKey(year, month, day);
                    const activity = scheduleData[dateKey];
                    
                    // German lesson cell
                    const germanCell = document.createElement('td');
                    germanCell.className = 'activity-cell';
                    if (activity === 'german') {
                        germanCell.classList.add('german');
                        germanCell.textContent = '✓';
                    }
                    
                    // Add separator for visual clarity
                    if (day === endDay && endDay < daysInMonth) {
                        germanCell.classList.add('month-separator');
                    }
                    
                    germanCell.addEventListener('click', () => {
                        document.getElementById('eventDay').value = day;
                        document.getElementById('eventMonth').value = month;
                        document.getElementById('eventYear').value = year;
                    });
                    
                    germanRow.appendChild(germanCell);
                    
                    // MCG shift cell
                    const mcgCell = document.createElement('td');
                    mcgCell.className = 'activity-cell';
                    if (activity === 'mcg') {
                        mcgCell.classList.add('mcg');
                        mcgCell.textContent = '✓';
                    }
                    
                    // Add separator for visual clarity
                    if (day === endDay && endDay < daysInMonth) {
                        mcgCell.classList.add('month-separator');
                    }
                    
                    mcgCell.addEventListener('click', () => {
                        document.getElementById('eventDay').value = day;
                        document.getElementById('eventMonth').value = month;
                        document.getElementById('eventYear').value = year;
                    });
                    
                    mcgRow.appendChild(mcgCell);
                }
            }
            
            table.appendChild(germanRow);
            table.appendChild(mcgRow);
        }
        
        // Initialize with current month and load data
        loadScheduleData();
        renderSchedule(currentDate);
        
        // Event listeners for navigation
        document.getElementById('prevMonth').addEventListener('click', function() {
            currentDate.setMonth(currentDate.getMonth() - 1);
            renderSchedule(currentDate);
        });
        
        document.getElementById('nextMonth').addEventListener('click', function() {
            currentDate.setMonth(currentDate.getMonth() + 1);
            renderSchedule(currentDate);
        });
        
        document.getElementById('todayBtn').addEventListener('click', function() {
            currentDate = new Date();
            renderSchedule(currentDate);
        });
        
        // Add event button
        document.getElementById('addEvent').addEventListener('click', function() {
            const type = document.getElementById('eventType').value;
            const day = parseInt(document.getElementById('eventDay').value);
            const month = parseInt(document.getElementById('eventMonth').value);
            const year = parseInt(document.getElementById('eventYear').value);
            
            // Validate day
            const daysInMonth = getDaysInMonth(year, month);
            if (day < 1 || day > daysInMonth) {
                alert(`Invalid day for ${getMonthName(month)} ${year}. Please enter a day between 1 and ${daysInMonth}.`);
                return;
            }
            
            const dateKey = getDateKey(year, month, day);
            scheduleData[dateKey] = type;
            saveScheduleData();
            renderSchedule(currentDate);
            
            // Show feedback
            const activityName = type === 'german' ? 'German lesson' : 'MCG work shift';
            alert(`${activityName} added for ${day} ${getMonthName(month)} ${year}`);
        });
        
        // Remove event button
        document.getElementById('removeEvent').addEventListener('click', function() {
            const day = parseInt(document.getElementById('eventDay').value);
            const month = parseInt(document.getElementById('eventMonth').value);
            const year = parseInt(document.getElementById('eventYear').value);
            
            const dateKey = getDateKey(year, month, day);
            
            if (scheduleData[dateKey]) {
                delete scheduleData[dateKey];
                saveScheduleData();
                renderSchedule(currentDate);
                alert(`Event removed for ${day} ${getMonthName(month)} ${year}`);
            } else {
                alert(`No event found for ${day} ${getMonthName(month)} ${year}`);
            }
        });
        
        // Set current month in the form
        document.getElementById('eventMonth').value = currentDate.getMonth();
        document.getElementById('eventYear').value = currentDate.getFullYear();
        
        // Adjust layout on window resize
        window.addEventListener('resize', function() {
            renderSchedule(currentDate);
        });
    </script>
</body>
</html>
